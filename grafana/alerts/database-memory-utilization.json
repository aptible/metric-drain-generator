{
  "id": 1,
  "uid": "qV4coA67z",
  "orgID": 1,
  "folderUID": "aptible-gen-folder",
  "ruleGroup": "aptible-generated",
  "title": "Database Memory Utilization",
  "condition": "C",
  "data": [
    {
      "refId": "A",
      "queryType": "",
      "relativeTimeRange": { "from": 300, "to": 0 },
      "datasourceUid": "aptible-gen-influx-source",
      "model": {
        "alias": "$tag_environment - $tag_database",
        "datasource": {
          "type": "influxdb",
          "uid": "aptible-gen-influx-source"
        },
        "hide": false,
        "intervalMs": 1000,
        "limit": "",
        "maxDataPoints": 43200,
        "measurement": "",
        "policy": "",
        "query": "SELECT MAX(\"memory_rss_mb\") / MAX(\"memory_limit_mb\")\nFROM \"metrics\"\nWHERE $timeFilter\nAND \"database\" != \"\"\nGROUP BY\n        time($__interval),\n        \"environment\", \"database\"",
        "rawQuery": true,
        "refId": "A",
        "resultFormat": "time_series",
        "slimit": "",
        "tz": ""
      }
    },
    {
      "refId": "B",
      "queryType": "",
      "relativeTimeRange": { "from": 0, "to": 0 },
      "datasourceUid": "-100",
      "model": {
        "conditions": [
          {
            "evaluator": { "params": [0.1], "type": "gt" },
            "operator": { "type": "and" },
            "query": { "params": ["A"] },
            "reducer": { "params": [], "type": "max" },
            "type": "query"
          }
        ],
        "datasource": { "type": "__expr__", "uid": "-100" },
        "downsampler": "mean",
        "expression": "A",
        "hide": false,
        "intervalMs": 1000,
        "maxDataPoints": 43200,
        "reducer": "max",
        "refId": "B",
        "settings": { "mode": "dropNN" },
        "type": "reduce",
        "upsampler": "fillna"
      }
    },
    {
      "refId": "C",
      "queryType": "",
      "relativeTimeRange": { "from": 0, "to": 0 },
      "datasourceUid": "-100",
      "model": {
        "conditions": [
          {
            "evaluator": { "params": [0, 0], "type": "gt" },
            "operator": { "type": "and" },
            "query": { "params": [] },
            "reducer": { "params": [], "type": "avg" },
            "type": "query"
          }
        ],
        "datasource": {
          "name": "Expression",
          "type": "__expr__",
          "uid": "__expr__"
        },
        "expression": "$B \u003e 0.9",
        "hide": false,
        "intervalMs": 1000,
        "maxDataPoints": 43200,
        "refId": "C",
        "type": "math"
      }
    }
  ],
  "updated": "2022-07-08T02:41:58Z",
  "noDataState": "NoData",
  "execErrState": "Alerting",
  "for": 300000000000,
  "annotations": {
    "__dashboardUid__": "aptible-gen-database-dash",
    "__panelId__": "3"
  }
}
